<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Local Weather App</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style>

    #container {
      background-image: url("img/weathericon" + iconId".png");
    }

    </style>
  </head>
  <body>
    <div id="container">
      <!--input your city-->
      <div id="div1">Let jQuery AJAX Change This Text
       <p id="coordinates"></p>
      </div>

  <button type="button">Get External Content</button>
    <!--  <p>
      city: <input id="city" value="London"></input></br>
      <button>Submit</button>
    </p>-->
<!--background images or icons that change depending on the weather conditions-->

<!--temperature in degrees celsius and faranieht and a button toggle between the two-->

<!--display your current location and the weather conditions-->

    </div>

    <div id="div1"></div>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js">
    </script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>

    <script>
    $(".contentContainer").css("min-height",$(window).height());
    </script>
    <script>
// get the current latitude longtitude coordinates of the users location


/* Use a call to the openweather api to return weather data for the lat long coordinates.*/
var api = 'http://api.openweathermap.org/data/2.5/weather?q=';
var apiKey = '&appid=e7f7a0fd415caaf614569e4b18be50ca';
var city ='Leeds';
var unit = '&units=metric';
var queryString = api + city + apiKey + unit;
//
$(document).ready(function(){

  //get current location of users
  // check for Geolocation support
  if (navigator.geolocation) {
    console.log('Geolocation is supported!');
  }
  else {
    console.log('Geolocation is not supported for this Browser/OS version yet.');
  }

  window.onload = function() {
  var startPos;
  var geoSuccess = function(position) {
    startPos = position;
    document.getElementById('coordinates').innerHTML = "Latitude: " + startPos.coords.latitude + "</br> Longitude: " + startPos.coords.longitude;
    
  };
  navigator.geolocation.getCurrentPosition(geoSuccess);
};
  //end of current location

   $("button").click(function(){
              $.ajax({url: queryString, success: function(result){
           $("#div1").html("<p> City: " + result.name + "</br> Description: " + result.weather[0].description + "</br> Temperature: " + result.main.temp +"</p>");
        }});
    });
});
/*parse the JSON returned from the api call into the text and graphics needed*/

//convert celcius to farenhieht and toggle between the two

//use the icon ids returned to switch between different images. use this to create the src url string.

//use the .style.background-image(url) to change the background image displayed. easily test this one


// return the weather description, city data and the icon in a getElementById

    </script>
  </body>
</html>
